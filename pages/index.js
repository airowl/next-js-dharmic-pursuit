import Head from 'next/head';
import Image from 'next/image';
import styles from '../styles/Home.module.css';
import { getPosts } from '../lib/api';
import Link from 'next/link';
import Layout from '../components/layout';

//export async function getStaticProps(){
//  let posts = await getPosts();
//  return {
//    props: {
//      posts
//    }
//  }
//}

export const siteTitle = "Dharmic Pursut";

export default function Home({ posts }) {
  return (
    <Layout>
      <div className={styles.container}>
        <Head>
          <title>{siteTitle}</title>
          <meta name="description" content="Generated by create next app" />
          <link rel="icon" href="/favicon.ico" />
        </Head>

        {console.log(posts)}

        {/* main */}
        <div className={styles.main}>
          {/*{
            posts.map((post,index) => (
              <div key={index}>

                <Link href={`/posts/${post.node.id}`}>
                <a style={{color:'blue'}}>{post.node.title}</a>
                </Link>
                
                <div dangerouslySetInnerHTML={{__html:post.node.content}} />

                <p>By {post.node.author.node.name}</p>
              </div>
            ))
          }*/}
        </div>

      </div>
    </Layout>
  )
}
